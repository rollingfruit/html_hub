# AI ç”Ÿæˆä½œå“é›†æ•£åœ°ä¸åŠ æ²¹ç«™

è¿™ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ–‡ä»¶å­˜å‚¨å·¥å…·ï¼Œè€Œæ˜¯ä¸€ä¸ªå®Œæ•´çš„ **AI åˆ›ä½œç”Ÿæ€ç³»ç»Ÿ**ï¼š
- ğŸ¨ **è¾“å…¥ç«¯**ï¼šPrompt åº“å’Œçµæ„Ÿç”»å»Šï¼Œé€šè¿‡åˆ†ç±»ç›®å½•å±•ç¤ºç²¾å“ä½œå“
- ğŸš€ **ä¸­é—´ç¯èŠ‚**ï¼šAI ä¼ é€é—¨ï¼Œä¸€é”®è·³è½¬ DeepSeekã€ChatGPTã€Claudeã€v0.devã€Bolt.new ç­‰ AI å¹³å°
- ğŸ“¦ **è¾“å‡ºç«¯**ï¼šä½œå“å±•å…ï¼Œå°† AI ç”Ÿæˆçš„ HTML æ‰˜ç®¡ã€å±•ç¤ºã€åˆ†äº«

è¯¥é¡¹ç›®æä¾›äº†å®Œæ•´çš„æŠ€æœ¯æ ˆï¼šReact å‰ç«¯ã€Node.js + Express + Prisma åç«¯ã€Nginx ç½‘å…³ä¸éƒ¨ç½²è„šæœ¬ã€‚ç”¨æˆ·å¯ä»¥æµè§ˆç²¾å“ã€å¤åˆ¶ Promptã€è·³è½¬ AI ç”Ÿæˆã€å›æ¥å‘å¸ƒä½œå“ï¼Œå½¢æˆå®Œç¾çš„åˆ›ä½œé—­ç¯ã€‚

## ç›®å½•ç»“æ„

```text
ecs-hosting-platform/
â”œâ”€â”€ client/                 # å‰ç«¯ React + Vite åº”ç”¨
â”œâ”€â”€ server/                 # åç«¯ Express + Prisma + SQLite
â”œâ”€â”€ nginx/                  # Nginx é…ç½®
â”œâ”€â”€ scripts/                # è¿ç»´è„šæœ¬ï¼Œå¦‚ deploy.sh
â”œâ”€â”€ docker-compose.yml      # ç¼–æ’å‰åç«¯ã€Nginx
â””â”€â”€ README.md
```

## å¿«é€Ÿå¼€å§‹ï¼ˆæœ¬åœ°å¼€å‘ï¼‰

1. åˆå§‹åŒ–ä¾èµ–
   ```bash
   # å‰ç«¯
   cd client
   npm install
   npm run dev
   # å¦å¼€ç»ˆç«¯å¯åŠ¨åç«¯
   cd ../server
   npm install
   npx prisma generate
   npx prisma migrate dev --name init
   npm run dev
   ```
2. é…ç½®ç¯å¢ƒå˜é‡  
   - å°† `server/.env.example` å¤åˆ¶ä¸º `.env` å¹¶è°ƒæ•´ `DATABASE_URL`, `UPLOAD_DIR`, `ADMIN_USERNAME`, `ADMIN_PASSWORD`, `JWT_SECRET`ã€‚
   - é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·ä¸º `admin/Admin123!`ï¼Œä¸Šçº¿å‰è¯·åŠ¡å¿…ä¿®æ”¹ã€‚
3. Docker ä¸€ä½“åŒ–ï¼ˆå¯é€‰ï¼‰
   ```bash
   # æ„å»ºå‰ç«¯äº§ç‰©
   cd client && npm run build && cd ..
   docker compose up --build
   ```
4. è®¿é—®åœ°å€
   - å‰ç«¯ï¼š`http://localhost`
   - æ‰˜ç®¡ HTMLï¼š`http://localhost/sites/<path>`
   - APIï¼š`http://localhost/api/*`

## æ ¸å¿ƒåŠŸèƒ½

### ğŸ¨ åˆ›ä½œæµç¨‹é—­ç¯
1. **æµè§ˆçµæ„Ÿç”»å»Š** - ç½‘æ ¼å¼ç²¾å“å±•ç¤ºï¼ŒæŒ‰åˆ†ç±»ç›®å½•ç»„ç»‡
2. **å¤åˆ¶ Prompt æ¨¡æ¿** - æ¯ä¸ªç›®å½•é…æœ‰ System Promptï¼Œæ˜¯è¯¥åˆ†ç±»çš„"åˆ›ä½œæ¯é¢˜"
3. **è·³è½¬ AI å¹³å°** - åº•éƒ¨ AI Dock æä¾› 7+ ä¸»æµ AI å¹³å°å¿«é€Ÿå…¥å£
4. **æ™ºèƒ½ç²˜è´´å‘å¸ƒ** - è‡ªåŠ¨è¯†åˆ«å¹¶æ¸…æ´— Markdown ä»£ç å—ï¼ˆ```html...```ï¼‰ï¼Œä»æ ‡é¢˜è‡ªåŠ¨æå–æ–‡ä»¶å

### ğŸ“ ç›®å½•å…±åˆ›ç³»ç»Ÿ
- æ¯ä¸ªç›®å½•å¯ç»´æŠ¤ **System Prompt** å’Œæè¿°ï¼Œå¼•å¯¼åŒä¸»é¢˜åˆ›ä½œ
- æ”¯æŒä¸€é”®æ–°å»ºæ–‡ä»¶å¤¹ï¼Œæ„å»º HTML Wiki å¼çŸ¥è¯†åº“
- å®æ—¶é¢„è§ˆï¼šæ”¯æŒ HTMLã€å›¾ç‰‡ç­‰å¤šç§æ–‡ä»¶ç±»å‹çš„é¢„è§ˆ

### ğŸ” æƒé™ç®¡ç†
- ä¿®æ”¹/åˆ é™¤æ–‡ä»¶éœ€æäº¤æƒé™ç”³è¯·
- ç®¡ç†å‘˜å®¡æ‰¹åç”Ÿæˆä¸´æ—¶ Tokenï¼ˆ10 åˆ†é’Ÿæœ‰æ•ˆæœŸï¼‰
- ç¥¨æ®ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†ï¼Œæ”¯æŒçŠ¶æ€åˆ·æ–°

### ğŸ“± å®Œç¾ç§»åŠ¨ç«¯ä½“éªŒ
- ä¾§è¾¹æ æŠ½å±‰åŒ–ï¼šç§»åŠ¨ç«¯æ‚¬æµ®è¦†ç›–ï¼Œç‚¹å‡»é®ç½©å…³é—­
- å“åº”å¼ç½‘æ ¼ï¼šè‡ªåŠ¨é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- è§¦å±ä¼˜åŒ–ï¼šåº•éƒ¨ AI Dock æ¨ªå‘æ»‘åŠ¨ï¼Œæ“ä½œæŒ‰é’®æ˜¾æ€§åŒ–

## API ä¸€è§ˆ

| Method | Path | è¯´æ˜ |
| --- | --- | --- |
| `GET /api/projects` | è¿”å›æ‰€æœ‰æ‰˜ç®¡æ¡ç›®åŠç›®å½•æ ‘ã€‚ |
| `POST /api/upload` | ä¸Šä¼  HTMLï¼Œæ”¯æŒ `path`ï¼ˆç›¸å¯¹ç›®å½•ï¼‰ä¸ `token`ï¼ˆè¦†ç›–æ—¶å¿…å¡«ï¼‰ã€‚ |
| `DELETE /api/files` | é€šè¿‡å®¡æ‰¹ Token åˆ é™¤æŒ‡å®š HTMLã€‚ |
| `GET /api/directory` | æŸ¥è¯¢ç›®å½•å…ƒæ•°æ®ï¼ˆSystem Prompt / æè¿°ï¼‰ã€‚ |
| `POST /api/directory` | æ–°å»ºæˆ–æ›´æ–°ç›®å½•å…ƒæ•°æ®ã€‚ |
| `POST /api/mkdir` | æ–°å»ºç›®å½•ï¼Œè‡ªåŠ¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­åˆ›å»ºæ–‡ä»¶å¤¹ã€‚ |
| `POST /api/request-permission` | ç”³è¯· `MODIFY` / `DELETE` æƒé™ï¼Œè¿”å›è¯·æ±‚å·ã€‚ |
| `POST /api/auth/login` | ç®¡ç†å‘˜ç™»å½•ï¼Œè¿”å› JWTã€‚ |
| `GET /api/admin/requests` | ç®¡ç†å‘˜æŸ¥çœ‹æœ€æ–°å®¡æ‰¹è¯·æ±‚ã€‚ |
| `POST /api/admin/approve` | å®¡æ‰¹å¹¶ç”Ÿæˆ Token æˆ–æ‹’ç»ã€‚ |

## å‰ç«¯äº¤äº’

- `/`ï¼šç”¨æˆ·ä¸»é¡µ - AI åˆ›ä½œé›†æ•£åœ°
  - ä½¿ç”¨å¼•å¯¼ï¼š4 æ­¥åˆ›ä½œæµç¨‹å±•ç¤º
  - ç²¾å“ç”»å»Šï¼šç½‘æ ¼å¼ä½œå“å±•ç¤ºï¼Œæ”¯æŒæœç´¢å’Œåˆ†ç±»æµè§ˆ
  - AI Dockï¼šåº•éƒ¨å›ºå®šçš„ AI å¹³å°å¯¼èˆªæ 
  - æ™ºèƒ½ä¸Šä¼ ï¼šMarkdown ä»£ç å—è‡ªåŠ¨æ¸…æ´—ï¼Œæ ‡é¢˜è‡ªåŠ¨æå–
- `/admin`ï¼šç®¡ç†å‘˜åå°
  - æƒé™å®¡æ‰¹ç®¡ç†
  - Token å‘æ”¾ä¸ç›‘æ§
- æŠ€æœ¯æ ˆï¼šReact + TypeScript + Vite + Lucide Icons
- ç”Ÿäº§æ¨¡å¼ç”± Nginx é™æ€æ‰˜ç®¡ï¼Œæ”¯æŒå‰ç«¯è·¯ç”±åˆ·æ–°

## éƒ¨ç½²åˆ° ECS

- `scripts/deploy.sh` åŒ…å«å‰ç«¯æ„å»ºã€Prisma ç”Ÿæˆã€`rsync` åŒæ­¥ä¸è¿œç¨‹ `docker compose up -d --build` å››æ­¥æµã€‚é…ç½®å¥½ `ECS_IP` åæ‰§è¡Œå³å¯æ»šåŠ¨æ›´æ–°ã€‚
- `docker-compose.yml` é»˜è®¤åœ¨æœåŠ¡å™¨ä¸ŠæŒ‚è½½ `./server_data/uploads` ä¸ `./server_data/db` æŒä¹…åŒ–ç”¨æˆ·æ•°æ®ã€‚
- Nginx è·¯ç”±ç­–ç•¥ï¼š
  - `/sites/*` -> `/var/www/sites`ï¼ˆç›´æ¥è¯»å– Node å†™å…¥çš„ HTMLï¼‰ã€‚
  - `/api/*` -> `hosting_server:3000`ã€‚
  - å…¶å®ƒè·¯ç”± -> React SPAï¼Œæ”¯æŒåˆ·æ–°ä¸å‰ç«¯è·¯ç”±ã€‚

æ›´å¤šç»†èŠ‚è¯·å‚é˜…å‰ç«¯ã€åç«¯ä¸è„šæœ¬å†…æ³¨é‡Šã€‚
